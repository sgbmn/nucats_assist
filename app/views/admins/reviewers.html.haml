/ START: styles
:css
  .hover {
    background-color: #888888;
  }
  #assigned_submissions ul li, #unassigned_submissions ul li {
    list-style: none;
    cursor: -moz-grab;
  }
  #assigned_submissions, #unassigned_submissions {
    border: none;
  }
%table.borderless{:style => "width:100%;"}
  %tr
    %td.h2{:style => "width:60%;"}
      Reviewers
    %td.h2
      Unassigned Submissions
  %tr
    %td{:style => "width:60%;"}
      = render 'reviewers', reviewers: @reviewers, project: @project
    %td#unassigned_submissions2{:style => "height:500%;"}
      #unassigned_submissions{:style => "height:50px;"}
        .alert.alert-info Click and drag a submission to a reviewer on the left.
        = render 'unassigned_submissions', unfilled_submissions: @unfilled_submissions
/ START: define targets - need this just once
:coffee
  $("#unassigned_submissions2").droppable
    tolerance: "pointer"
    hoverClass: "hover"
    drop: (event, ui) ->
      $.ajax
        type: 'POST'
        dataType: 'script'
        beforeSend: ->
          confirm("Are you sure you want to delete this review?")
        url: "#{unassign_submission_project_admins_url(@project.id)}"
        data:
          submission_review_id: ui.draggable.data('id')
          authenticity_token: "#{form_authenticity_token}"
/ = drop_receiving_element('unassigned_submissions2', accept: 'assigned_submission', hoverclass: 'hover', confirm: "Are you sure you want to delete this review?", with: "'submission_review_id=' + encodeURIComponent(element.id.split('_').last())", url: { action: :unassign_submission })                                             |
/ END: define targets
%h2
  Add Reviewers #{netid_lookup_tag}
= render 'add_reviewers_form', project: @project